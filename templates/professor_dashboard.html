<!DOCTYPE html>
<html lang="en">

<head>
    <title>MyProctor.ai</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for('static', filename='volt/assets/img/favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='volt/assets/img/favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='volt/assets/img/favicon/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='volt/assets/img/favicon/site.webmanifest') }}">

    <!-- Fontawesome -->
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='volt/vendor/@fortawesome/fontawesome-free/css/all.min.css') }}">

    <!-- Volt CSS -->
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='volt/css/volt.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>

    <!-- Lottie Js -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    {% block head %}{% endblock %}
</head>

<body>
    <nav class="navbar navbar-dark navbar-theme-primary px-4 col-12 d-md-none">
        <a class="navbar-brand me-lg-5" href="/professor_index">
            <center>
                <lottie-player src="https://assets1.lottiefiles.com/packages/lf20_wEt2nn.json" background="transparent" speed="1" style="width: 75px; height: 50px;" loop autoplay></lottie-player>
            </center>
        </a>
        <div class="d-flex align-items-center">
            <button class="navbar-toggler d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-dark text-white sidebar collapse" data-simplebar>
                <div class="sidebar-inner px-4 pt-3">
                    <!-- User Card -->
                    <ul><br></ul>
            <ul class="nav flex-column pt-3 pt-md-0"><p class="h6">{{ session.name }}</p>
            </ul>
            <li role="separator" class="dropdown-divider mt-4 mb-3 border-black"></li>
                    <ul class="nav flex-column pt-3 pt-md-0">
                        <li class="nav-item">
                            <a href="/create-test" class="nav-link">
                              <span class="sidebar-icon"><span class="fas fa-magic"></span></span>
                              <span class="sidebar-text">Create Exam</span>
                            </a>
                          </li>
                    
                        <li class="nav-item">
                            <a href="/generate_test" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-magic"></span></span>
                                <span class="sidebar-text">Generate Questions</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/viewquestions" class="nav-link d-flex justify-content-between">
                                <span>
                                    <span class="sidebar-icon"><span class="fas fa-eye"></span></span>
                                    <span class="sidebar-text">View Questions</span>
                                </span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/updatetidlist" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-edit"></span></span>
                                <span class="sidebar-text">Update Questions</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/deltidlist" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-trash-alt"></span></span>
                                <span class="sidebar-text">Delete Questions</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/{{ session.email }}/disptests" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-history"></span></span>
                                <span class="sidebar-text">Exam History</span>
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <a href="/viewstudentslogs" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-binoculars"></span></span>
                                <span class="sidebar-text">Student Monitoring</span>
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <a href="/publish-results-testid" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-clipboard-check"></span></span>
                                <span class="sidebar-text">Publish Results</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="/{{ session.email }}/tests-created" class="nav-link">
                                <span class="sidebar-icon"><span class="fas fa-poll"></span></span>
                                <span class="sidebar-text">Results</span>
                            </a>
                        </li>
                        <li role="separator" class="dropdown-divider mt-4 mb-3 border-black"></li>
                        <li class="nav-item ">
                            <a href="/report_professor" class="nav-link">
                              <span class="sidebar-icon"><span class="fas fa-bug"></span></span>
                              <span class="sidebar-text">Report Problems</span>
                            </a>
                          </li>
                        <li class="nav-item">
                            <a href="/changepassword_professor" class="nav-link d-flex align-items-center">
                                <span class="sidebar-icon"><span class="fas fa-key"></span></span>
                                <span class="sidebar-text">Change Password</span>
                            </a>
                        </li>
                        <li><br>
                        </li>
                        <li class="nav-item"><a href="/logout"  class="btn btn-secondary d-flex align-items-center justify-content-center">
                          <span class="sidebar-icon"><span class="fas fa-sign-out-alt"></span></span>
                          <span class="sidebar-text">Logout</span>
                        </a>
                      </li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Professor Dashboard</h1>
                </div>
                <div class="container">
                    {% include 'includes/_messages.html' %}
                    {% block body %}{% endblock %}
                </div>
                <footer id="sticky-footer" class="py-4">
                    <div class="d-flex text-center justify-content-center align-items-center" role="contentinfo">
                        <p class="font-weight-bold font-medium mb-0">Copyright Â© AITM EXAM SYSTEM
                            <span class="current-year"><script>document.write(new Date().getFullYear())</script></span>. All rights reserved.
                        </p>
                    </div><br>
                    <div class="d-flex text-center justify-content-center align-items-center" role="contentinfo">
                        <p class="font-weight-bold font-small mb-0"><span><a href="https://aitmbgm.ac.in/">Made with AITM STUDENTS</a></span></p>
                    </div>
                </footer>
            </main>
        </div>
    </div>

    <script>
        // Logout function for professor dashboard
function professorLogout() {
  Swal.fire({
    title: 'Are you sure?',
    text: "Do you really want to logout as a professor?",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonText: 'Yes, Logout me!',
    cancelButtonText: 'No!',
    confirmButtonColor: '#d33',
    cancelButtonColor: '#202124',
    reverseButtons: true
  }).then((result) => {
    if (result.isConfirmed) {
      $.ajax({
        type: "POST",
        url: "/professor-logout", // Adjust the URL if needed
        success: function(response) {
          if (response === "success") {
            console.log(response);
            window.location.href = "/"; // Redirect to the login or home page
          }
        }
      });
      Swal.fire(
        'Success!',
        'You are successfully signed out as a professor.',
        'success'
      );
    } else if (result.dismiss === Swal.DismissReason.cancel) {
      Swal.fire(
        'Cancelled',
        'Logout cancelled.',
        'error'
      );
    }
  });
}

    </script>

    <!-- Core -->
    <script src="{{ url_for('static', filename='volt/vendor/@popperjs/core/dist/umd/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='volt/vendor/bootstrap/dist/js/bootstrap.min.js') }}"></script>

    <!-- Vendor JS -->
    <script src="{{ url_for('static', filename='volt/vendor/onscreen/dist/on-screen.umd.min.js') }}"></script>

    <!-- Slider -->
    <script src="{{ url_for('static', filename='volt/vendor/nouislider/distribute/nouislider.min.js') }}"></script>

    <!-- Smooth scroll -->
    <script src="{{ url_for('static', filename='volt/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js') }}"></script>

    <!-- Charts -->
    <script src="{{ url_for('static', filename='volt/vendor/chartist/dist/chartist.min.js') }}"></script>
    <script src="{{ url_for('static', filename='volt/vendor/chartist-plugin-tooltips/dist/chartist-plugin-tooltip.min.js') }}"></script>

    <!-- Datepicker -->
    <script src="{{ url_for('static', filename='volt/vendor/vanillajs-datepicker/dist/js/datepicker.min.js') }}"></script>

    <!-- Sweet Alerts 2 -->
    <script src="{{ url_for('static', filename='volt/vendor/sweetalert2/dist/sweetalert2.all.min.js') }}"></script>

    <!-- Moment JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>

    <!-- Vanilla JS Datepicker -->
    <script src="{{ url_for('static', filename='volt/vendor/vanillajs-datepicker/dist/js/datepicker.min.js') }}"></script>

    <!-- Notyf -->
    <script src="{{ url_for('static', filename='volt/vendor/notyf/notyf.min.js') }}"></script>

    <!-- Simplebar -->
    <script src="{{ url_for('static', filename='volt/vendor/simplebar/dist/simplebar.min.js') }}"></script>

    <!-- Github buttons -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <!-- Volt JS -->
    <script src="{{ url_for('static', filename='volt/assets/js/volt.js') }}"></script>
</body>

</html>
